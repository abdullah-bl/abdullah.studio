(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{3979:(e,t,r)=>{Promise.resolve().then(r.bind(r,6735))},3999:(e,t,r)=>{"use strict";r.d(t,{B:()=>l,cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function l(){return"undefined"!=typeof navigator&&"gpu"in navigator}},5784:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>x,gC:()=>m,l6:()=>d,yv:()=>c});var a=r(5155);r(2115);var s=r(5330),n=r(6474),l=r(5196),o=r(7863),i=r(3999);function d(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(s.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:r="default",children:l,...o}=e;return(0,a.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":r,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[l,(0,a.jsx)(s.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:r,position:n="popper",...l}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsxs)(s.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,a.jsx)(h,{}),(0,a.jsx)(s.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,a.jsx)(g,{})]})})}function x(e){let{className:t,children:r,...n}=e;return(0,a.jsxs)(s.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(s.p4,{children:r})]})}function h(e){let{className:t,...r}=e;return(0,a.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(o.A,{className:"size-4"})})}function g(e){let{className:t,...r}=e;return(0,a.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"size-4"})})}},6735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(5155),s=r(2115),n=r(5196),l=r(4357),o=r(1154),i=r(9946);let d=(0,i.A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),c=(0,i.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),u=(0,i.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var m=r(3999),x=r(7168),h=r(9474),g=r(6671),v=r(5784);let p=(0,i.A)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);function b(e){let{voices:t,selectedVoice:r,onVoiceChange:s}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Voice"})]}),(0,a.jsxs)(v.l6,{value:r,onValueChange:s,children:[(0,a.jsx)(v.bq,{className:"w-[280px] h-10 border-2 border-gray-200 hover:border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all rounded-xl",children:(0,a.jsx)(v.yv,{placeholder:"Select a voice"})}),(0,a.jsx)(v.gC,{className:"rounded-xl border-2 border-gray-200 shadow-lg",children:Object.entries(t).map(e=>{let[t,r]=e;return(0,a.jsx)(v.eb,{value:t,className:"rounded-lg hover:bg-blue-50 focus:bg-blue-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,m.cn)("w-2 h-2 rounded-full","male"===r.gender?"bg-blue-500":"bg-pink-500")}),(0,a.jsx)("span",{className:"font-medium",children:r.name}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:["(","en-us"===r.language?"American":"British"," ",r.gender,")"]})]})},t)})})]})]})}let f=(0,i.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),j=(0,s.memo)(function(e){let{text:t,audio:r,active:n,playing:l,onClick:o,onStart:i,onPause:d,onEnd:c,...u}=e;(0,s.useEffect)(()=>{let e=x.current;if(!e)return;let t=()=>null==i?void 0:i(),r=()=>null==c?void 0:c(),a=()=>{var e;null!=(e=x.current)&&e.ended||null==d||d()};return e.addEventListener("play",t),e.addEventListener("pause",a),e.addEventListener("ended",r),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",a),e.removeEventListener("ended",r)}},[i,d,c]),(0,s.useEffect)(()=>{if(x.current&&n)if(l){var e;(null==(e=x.current)?void 0:e.ended)&&(x.current.currentTime=0),x.current.play()}else x.current.pause()},[n,l]);let x=(0,s.useRef)(null);(0,s.useEffect)(()=>{r&&x.current&&(n?(x.current.play(),x.current.scrollIntoView({behavior:"smooth",block:"center"})):(x.current.pause(),x.current.currentTime=0))},[r,n]);let h=(0,s.useMemo)(()=>URL.createObjectURL(r),[r]);return(0,a.jsxs)("div",{hidden:!0,...u,className:(0,m.cn)("group relative p-4 rounded-xl transition-all duration-300 cursor-pointer border-2","hover:shadow-md hover:scale-[1.02]",n?"bg-blue-50/80 border-blue-200 shadow-sm":"bg-white/60 border-gray-100 hover:border-blue-100"),onClick:o,children:[n&&(0,a.jsx)("div",{className:"absolute top-3 right-3",children:(0,a.jsx)("div",{className:(0,m.cn)("w-2 h-2 rounded-full transition-all duration-300",l?"bg-blue-500 animate-pulse":"bg-blue-400")})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("p",{className:(0,m.cn)("text-gray-800 leading-relaxed",n&&"font-medium"),children:t})}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(f,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Audio"})]}),(0,a.jsx)("audio",{ref:x,src:h,controls:!0,className:(0,m.cn)("flex-1 h-10 rounded-lg","focus:outline-none focus:ring-2 focus:ring-blue-500/20")})]}),(0,a.jsx)("div",{className:(0,m.cn)("absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/5 to-indigo-500/5","opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none")})]})});function y(){let[e,t]=(0,s.useState)("Kokoro is a lightweight TTS model that runs in your browser. It generates natural speech from text with 82 million parameters."),[i,v]=(0,s.useState)(null),[p,f]=(0,s.useState)(!1),[y,w]=(0,s.useState)(-1),[N,k]=(0,s.useState)(1),[z,A]=(0,s.useState)(!1),[L,E]=(0,s.useState)("loading"),[S,C]=(0,s.useState)(null),_=(0,s.useRef)(null),[R,T]=(0,s.useState)(null),[M,F]=(0,s.useState)("af_heart"),[U,V]=(0,s.useState)([]),[O,P]=(0,s.useState)(null);(0,s.useEffect)(()=>{var e,t,a;null!=_.current||(_.current=new Worker(r.tu(new URL(r.p+r.u(958),r.b)),{type:void 0}));let s=e=>{let{data:t}=e;switch(t.status){case"device":g.o.success("Device detected: "+t.device);break;case"ready":g.o.success("Model loaded successfully"),E("ready"),T(t.voices);break;case"error":E("error"),C(t.data),g.o.error("Failed to load model");break;case"stream":V(e=>[...e,t.chunk]);break;case"complete":E("ready"),P(t.audio),g.o.success("Audio generation complete")}},n=e=>{console.error("Worker error:",e),C(e.message),g.o.error("An error occurred")};return null==(e=_.current)||e.addEventListener("message",s),null==(t=_.current)||t.addEventListener("error",n),()=>{var e,t;null==(e=_.current)||e.removeEventListener("message",s),null==(t=_.current)||t.removeEventListener("error",n)}},[]);let q=i&&i.text===e&&i.speed===N&&i.voice===M,$=async()=>{await navigator.clipboard.writeText(e),A(!0),setTimeout(()=>A(!1),2e3),g.o.success("Text copied to clipboard")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("main",{className:"",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto py-16 flex flex-col gap-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Text to Speech"}),(0,a.jsx)("p",{className:"text-lg text-gray-700 mb-8",children:"Convert text to natural-sounding speech using Kokoro, a lightweight AI model that runs entirely in your browser."})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.T,{value:e,onChange:e=>t(e.target.value),placeholder:"Enter text to convert to speech...",className:(0,m.cn)("min-h-[120px] text-base leading-relaxed resize-none","border border-neutral-300 focus:border-neutral-400 focus:ring-1 focus:ring-neutral-400","bg-white dark:bg-neutral-900",q&&"ready"===L?"border-green-300 focus:border-green-400 focus:ring-green-400":"","loading"===L?"text-neutral-400":"text-neutral-900 dark:text-neutral-100")}),(0,a.jsx)(x.$,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 h-8 w-8 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800",onClick:$,children:z?(0,a.jsx)(n.A,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(l.A,{className:"h-4 w-4 text-neutral-500"})})]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{voices:R,selectedVoice:M,onVoiceChange:F}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-600 dark:text-neutral-400",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Ready"]})]}):S?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),S]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-600 dark:text-neutral-400",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 animate-spin"}),"Loading model..."]})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)(x.$,{onClick:()=>{if(!p&&"ready"===L&&!q){var t;E("generating"),V([]),w(0);let r={text:e,voice:M,speed:N};v(r),null==(t=_.current)||t.postMessage(r)}-1===y&&w(0),f(!p)},className:(0,m.cn)("px-6 py-2 rounded-md font-medium transition-colors","bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-white dark:text-neutral-900 dark:hover:bg-neutral-100",p&&"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:"ready"===L&&!p&&!e||"ready"!==L&&0===U.length,children:"generating"===L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{className:"mr-2 h-4 w-4"}),"Pause"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"mr-2 h-4 w-4"}),q?"Play":"Generate"]})}),(0,a.jsxs)(x.$,{variant:"outline",onClick:()=>{if(!O)return;let e=URL.createObjectURL(O),t=document.createElement("a");t.href=e,t.download="kokoro-audio.wav",t.click(),URL.revokeObjectURL(e),g.o.success("Audio downloaded")},disabled:!O||"ready"!==L,className:"px-6 py-2 rounded-md border border-neutral-300 hover:border-neutral-400 hover:bg-neutral-50 dark:border-neutral-700 dark:hover:border-neutral-600 dark:hover:bg-neutral-800",children:[(0,a.jsx)(u,{className:"mr-2 h-4 w-4"}),"Download"]})]}),U.length>0&&(0,a.jsxs)("div",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:"Generated Audio"}),(0,a.jsx)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:U.map((e,t)=>{let{text:r,audio:s}=e;return(0,a.jsx)(j,{text:r,audio:s,onClick:()=>{w(t)},active:y===t,playing:p,onStart:()=>{w(t),f(!0)},onPause:()=>{y===t&&f(!1)},onEnd:()=>{"generating"!==L&&y===U.length-1?(f(!1),w(-1)):w(e=>e+1)}},t)})})]})]})}),(0,a.jsx)(g.Toaster,{position:"top-right",toastOptions:{style:{fontSize:14,borderRadius:8,border:"1px solid rgba(0, 0, 0, 0.1)"}}})]})}function w(){let[e,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsx)(y,{}):(0,a.jsx)("div",{children:"Loading..."})}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(5155),s=r(2115),n=r(9708),l=r(2085),o=r(3999);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:s,size:l,className:r})),ref:t,...c})});d.displayName="Button"},9474:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var a=r(5155),s=r(2115),n=r(3999);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});l.displayName="Textarea"}},e=>{var t=t=>e(e.s=t);e.O(0,[352,671,485,441,684,358],()=>t(3979)),_N_E=e.O()}]);