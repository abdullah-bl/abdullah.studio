(()=>{var e={2373:()=>{},3999:(e,t,r)=>{"use strict";function o(){return"undefined"!=typeof navigator&&"gpu"in navigator}r.d(t,{B:()=>o})},6597:(e,t,r)=>{"use strict";r.a(e,async(e,t)=>{try{var o=r(2747),a=r(3999);let e=(0,a.B)()?"webgpu":"wasm";self.postMessage({status:"device",device:e});let s=await o.Hy.from_pretrained("onnx-community/Kokoro-82M-v1.0-ONNX",{dtype:"wasm"===e?"q8":"fp32",device:e}).catch(e=>{throw self.postMessage({status:"error",error:e.message}),e});self.postMessage({status:"ready",voices:s.voices,device:e}),self.addEventListener("message",async e=>{let t,{text:r,voice:a,speed:n}=e.data,i=new o.fr;i.push(r),i.close();let c=s.stream(i,{voice:a,speed:n}),f=[];for await(let{text:e,audio:t}of c)self.postMessage({status:"stream",chunk:{audio:t.toBlob(),text:e}}),f.push(t);if(f.length>0){let e=f[0].sampling_rate,r=f.reduce((e,t)=>e+t.audio.length,0),o=new Float32Array(r),a=0;for(let{audio:e}of f)o.set(e,a),a+=e.length;t=new f[0].constructor(o,e)}self.postMessage({status:"complete",audio:t.toBlob()})}),t()}catch(e){t(e)}},1)},9788:()=>{}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}},n=!0;try{e[o](s,s.exports,r),n=!1}finally{n&&delete t[o]}return s.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[373,126,803,641,236],()=>r(6597));return r.O(e)},(()=>{var e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach(e=>e.r--),e.forEach(e=>e.r--?e.r++:e()))},s=r=>r.map(r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var s=[];s.d=0,r.then(e=>{n[t]=e,a(s)},e=>{n[o]=e,a(s)});var n={};return n[e]=e=>e(s),n}}var i={};return i[e]=e=>{},i[t]=r,i});r.a=(r,n,i)=>{i&&((c=[]).d=-1);var c,f,p,u,l=new Set,d=r.exports,b=new Promise((e,t)=>{u=t,p=e});b[t]=d,b[e]=e=>(c&&e(c),l.forEach(e),b.catch(e=>{})),r.exports=b,n(r=>{f=s(r);var a,n=()=>f.map(e=>{if(e[o])throw e[o];return e[t]}),i=new Promise(t=>{(a=()=>t(n)).r=0;var r=e=>e!==c&&!l.has(e)&&(l.add(e),e&&!e.d&&(a.r++,e.push(a)));f.map(t=>t[e](r))});return a.r?i:n()},e=>(e?u(b[o]=e):p(d),a(c))),c&&c.d<0&&(c.d=0)}})(),(()=>{var e=[];r.O=(t,o,a,s)=>{if(o){s=s||0;for(var n=e.length;n>0&&e[n-1][2]>s;n--)e[n]=e[n-1];e[n]=[o,a,s];return}for(var i=1/0,n=0;n<e.length;n++){for(var[o,a,s]=e[n],c=!0,f=0;f<o.length;f++)(!1&s||i>=s)&&Object.keys(r.O).every(e=>r.O[e](o[f]))?o.splice(f--,1):(c=!1,s<i&&(i=s));if(c){e.splice(n--,1);var p=a();void 0!==p&&(t=p)}}return t}})(),r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,o)=>(r.f[o](e,t),t),[])),r.u=e=>641===e?"static/chunks/641-a0b47686b5837e7b.js":"static/chunks/"+(({126:"1dcdee52",373:"d33cb27b",803:"adda3502"})[e]||e)+"."+({126:"bd5259b43c774454",236:"24549341b14dd4e6",373:"774b20ff9b87a26f",803:"306e5d283dc118f9"})[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.U=function(e){var t=new URL(e,"x:/"),r={};for(var o in t)r[o]=t[o];for(var o in r.href=e,r.pathname=e.replace(/[?#].*/,""),r.origin=r.protocol="",r.toString=r.toJSON=()=>e,r)Object.defineProperty(this,o,{enumerable:!0,configurable:!0,value:r[o]})},r.U.prototype=URL.prototype,(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="/_next/",(()=>{var e={958:1};r.f.i=(t,o)=>{e[t]||importScripts(r.tu(r.p+r.u(t)))};var t=self.webpackChunk_N_E=self.webpackChunk_N_E||[],o=t.push.bind(t);t.push=t=>{var[a,s,n]=t;for(var i in s)r.o(s,i)&&(r.m[i]=s[i]);for(n&&n(r);a.length;)e[a.pop()]=1;o(t)}})(),(()=>{var e=r.x;r.x=()=>Promise.all([373,126,803,641,236].map(r.e,r)).then(e)})(),_N_E=r.x()})();